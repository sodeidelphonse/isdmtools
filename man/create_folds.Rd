% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/SpatialFolds.R
\name{create_folds}
\alias{create_folds}
\title{Create block cross-validation folds for multisource spatial datasets}
\usage{
create_folds(
  datasets,
  region_polygon = NULL,
  k = 5,
  seed = 23,
  cv_method = "cluster",
  ...
)
}
\arguments{
\item{datasets}{A named list of \code{sf} objects. Each list element should be a
spatial dataset with its name corresponding to the list element's name.}

\item{region_polygon}{An \code{sf} object representing the study area polygon.}

\item{k}{An integer specifying the number of folds (k-fold cross-validation).}

\item{seed}{An integer for reproducibility.}

\item{cv_method}{A character string specifying the spatial cross-validation method to use. Options are \code{"cluster"} (default) or \code{"spatial"}.}

\item{...}{Additional arguments to be passed to the underlying blocking function (see \link[blockCV]{cv_cluster} or \link[blockCV]{cv_spatial}).}
}
\value{
An S3 object of class \code{DataFolds} containing the combined data,
fold information, and the original datasets.
}
\description{
A constructor function for the \code{DataFolds} S3 class. It binds multiple \code{sf} datasets
into a single object and generates spatially or environmentally-separated cross-validation folds.
}
\details{
This function first binds all datasets into a single \code{sf} object. It then applies the chosen blocking method to create spatial folds.
The fold IDs are added to the combined data object, and the original datasets and other relevant information are
stored in the returned \code{DataFolds} object.
}
\examples{
\dontrun{
# Create some dummy sf data with different columns
library(sf)
set.seed(42)
presence_data <- data.frame(
  x = runif(100, 0, 4),
  y = runif(100, 6, 13),
  site = rbinom(100, 1, 0.6)
) \%>\% st_as_sf(coords = c("x", "y"), crs = 4326)

count_data <- data.frame(
  x = runif(50, 0, 4),
  y = runif(50, 6, 13),
  count = rpois(50, 5)
) \%>\% st_as_sf(coords = c("x", "y"), crs = 4326)

# Create a list of datasets
datasets_list <- list(Presence = presence_data, Count = count_data)

# Create a dummy polygon for the region (e.g. Benin's minimum bounding rectangle)
ben_coords <- matrix(c(0, 6, 4, 6, 4, 13, 0, 13, 0, 6), ncol = 2, byrow = TRUE)
ben_sf <- st_sfc(st_polygon(list(ben_coords)), crs = 4326)
ben_sf <- st_sf(data.frame(name = "Benin"), ben_sf)

# Create a DataFolds object using the default 'cluster' method
my_folds <- create_folds(datasets_list, ben_sf, k = 5)
print(my_folds)
}

}
\references{
Roberts DR, Bahn V, Ciuti S, Boyce MS, Elith J, Guillera-Arroita G, Hauenstein S, Lahoz-Monfort JJ, Schröder B, Thuiller W, et al. Cross-validation strategies for data with temporal, spatial, hierarchical, or phylogenetic structure. \emph{Ecography} (2017) 40:913–929. \doi{10.1111/ecog.02881}

Valavi R, Elith J, Lahoz-Monfort JJ, Guillera-Arroita G. blockCV: an R package for generating spatially or environmentally separated folds for k-fold cross-validation of species distribution models. \emph{bioRxiv} (2018)357798. \doi{10.1101/357798}
}
\concept{spatial blocking}
